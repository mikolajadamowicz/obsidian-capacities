/* Capacities-Inspired Theme for Obsidian */
/* A clean, modern theme inspired by the Capacities app */
/* Colors: Copper/Bronze (#B97D3E), Dark (#1D2228), with sleek modern UI */

/* ============================================ */
/* ROOT VARIABLES - COLOR PALETTE */
/* ============================================ */

.theme-dark {
	/* Base Colors - Capacities Dark Theme */
	--background-primary: #1a1e23;
	--background-primary-alt: #1d2228;
	--background-secondary: #141821;
	--background-secondary-alt: #0f1218;
	--background-modifier-border: #2a2f36;
	--background-modifier-form-field: #1d2228;
	--background-modifier-form-field-highlighted: #252a32;
	--background-modifier-box-shadow: rgba(0, 0, 0, 0.4);
	--background-modifier-success: #3a9679;
	--background-modifier-error: #e85c5c;
	--background-modifier-error-hover: #ff6b6b;
	--background-modifier-cover: rgba(0, 0, 0, 0.8);

	/* Text Colors */
	--text-normal: #e4e6eb;
	--text-muted: #99a0a8;
	--text-faint: #5a6169;
	--text-error: #ff6b6b;
	--text-accent: #B97D3E;
	--text-accent-hover: #d4955c;
	--text-on-accent: #ffffff;

	/* Interactive Colors - Capacities Blue/Sky accent */
	--interactive-normal: #2a2f36;
	--interactive-hover: #313840;
	--interactive-accent: #6ba5d8;
	--interactive-accent-hover: #7eb8e8;
	--interactive-success: #4caf8d;

	/* Capacities Brand Colors */
	--color-accent: #B97D3E;
	--color-accent-1: #6ba5d8;
	--color-accent-2: #8b7fd9;
	--color-base-00: #0f1218;
	--color-base-10: #141821;
	--color-base-20: #1a1e23;
	--color-base-25: #1d2228;
	--color-base-30: #252a32;
	--color-base-35: #2a2f36;
	--color-base-40: #313840;
	--color-base-50: #3f4854;
	--color-base-60: #5a6169;
	--color-base-70: #767d87;
	--color-base-100: #e4e6eb;

	/* Semantic Colors */
	--color-green: #4caf8d;
	--color-red: #e85c5c;
	--color-orange: #f59e42;
	--color-yellow: #e8c057;
	--color-cyan: #5dccb8;
	--color-blue: #6ba5d8;
	--color-purple: #8b7fd9;
	--color-pink: #d87fa8;
}

.theme-light {
	/* Base Colors - Capacities Light Theme */
	--background-primary: #ffffff;
	--background-primary-alt: #fafbfc;
	--background-secondary: #f5f6f8;
	--background-secondary-alt: #edf0f2;
	--background-modifier-border: #e1e4e8;
	--background-modifier-form-field: #fafbfc;
	--background-modifier-form-field-highlighted: #f5f6f8;
	--background-modifier-box-shadow: rgba(0, 0, 0, 0.1);
	--background-modifier-success: #d4edda;
	--background-modifier-error: #f8d7da;
	--background-modifier-error-hover: #f5c6cb;
	--background-modifier-cover: rgba(0, 0, 0, 0.3);

	/* Text Colors */
	--text-normal: #1d2228;
	--text-muted: #5a6169;
	--text-faint: #99a0a8;
	--text-error: #d32f2f;
	--text-accent: #B97D3E;
	--text-accent-hover: #a06a30;
	--text-on-accent: #ffffff;

	/* Interactive Colors */
	--interactive-normal: #f5f6f8;
	--interactive-hover: #edf0f2;
	--interactive-accent: #5b9ccc;
	--interactive-accent-hover: #4a8ab8;
	--interactive-success: #3a9679;

	/* Capacities Brand Colors */
	--color-accent: #B97D3E;
	--color-accent-1: #5b9ccc;
	--color-accent-2: #7a6fc7;
	--color-base-00: #ffffff;
	--color-base-10: #fafbfc;
	--color-base-20: #f5f6f8;
	--color-base-25: #edf0f2;
	--color-base-30: #e1e4e8;
	--color-base-35: #d1d5db;
	--color-base-40: #b4b9c2;
	--color-base-50: #99a0a8;
	--color-base-60: #767d87;
	--color-base-70: #5a6169;
	--color-base-100: #1d2228;

	/* Semantic Colors */
	--color-green: #3a9679;
	--color-red: #d32f2f;
	--color-orange: #e67e22;
	--color-yellow: #d4af37;
	--color-cyan: #17a2b8;
	--color-blue: #5b9ccc;
	--color-purple: #7a6fc7;
	--color-pink: #c2679b;
}

/* ============================================ */
/* RADIUS & SHAPES - ROUNDED, MODERN DESIGN */
/* ============================================ */

body {
	/* Rounded corners everywhere for modern, soft look */
	--radius-s: 6px;
	--radius-m: 10px;
	--radius-l: 14px;
	--radius-xl: 18px;
	--input-radius: 8px;
	--tab-radius: 6px;
	--tab-radius-active: 6px;
	--checkbox-radius: 4px;
	--toggle-radius: 18px;
	--toggle-thumb-radius: 16px;
	--slider-thumb-radius: 50%;
	--button-radius: 8px;

	/* Spacing - generous, breathing room */
	--size-2-1: 4px;
	--size-2-2: 8px;
	--size-2-3: 12px;
	--size-4-1: 8px;
	--size-4-2: 16px;
	--size-4-3: 24px;
	--size-4-4: 32px;
	--size-4-6: 48px;
	--size-4-8: 64px;

	/* Typography - clean and modern */
	--font-text-size: 16px;
	--font-smaller: 14px;
	--font-smallest: 12px;
	--font-ui-small: 13px;
	--font-ui-medium: 15px;
	--font-ui-large: 18px;

	/* Line heights for readability */
	--line-height-normal: 1.6;
	--line-height-tight: 1.4;

	/* Shadows - soft and subtle */
	--shadow-s: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.08);
	--shadow-m: 0 4px 6px rgba(0, 0, 0, 0.1), 0 2px 4px rgba(0, 0, 0, 0.06);
	--shadow-l: 0 10px 20px rgba(0, 0, 0, 0.15), 0 6px 6px rgba(0, 0, 0, 0.1);
}

/* ============================================ */
/* TYPOGRAPHY */
/* ============================================ */

body {
	font-size: var(--font-text-size);
	line-height: var(--line-height-normal);
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

/* Headers with modern spacing */
h1, h2, h3, h4, h5, h6 {
	font-weight: 600;
	letter-spacing: -0.01em;
	margin-top: 1.5em;
	margin-bottom: 0.5em;
}

h1 { font-size: 2em; }
h2 { font-size: 1.6em; }
h3 { font-size: 1.3em; }
h4 { font-size: 1.1em; }
h5 { font-size: 1em; }
h6 { font-size: 0.9em; }

/* ============================================ */
/* WORKSPACE */
/* ============================================ */

.workspace {
	background-color: var(--background-primary);
}

/* Clean tab design */
.workspace-tab-header-container {
	background-color: var(--background-secondary);
	border-bottom: 1px solid var(--background-modifier-border);
	padding: 0 8px;
}

.workspace-tab-header {
	background-color: transparent;
	border-radius: var(--tab-radius) var(--tab-radius) 0 0;
	padding: 8px 16px;
	margin: 4px 2px 0 2px;
	transition: all 0.2s ease;
}

.workspace-tab-header:hover {
	background-color: var(--interactive-hover);
}

.workspace-tab-header.is-active {
	background-color: var(--background-primary);
	color: var(--text-normal);
	border-bottom: 2px solid var(--color-accent);
}

/* Remove default tab decorations */
.workspace-tab-header.is-active::before,
.workspace-tab-header.is-active::after {
	display: none;
}

/* Modern split view */
.workspace-split.mod-vertical > * > .workspace-leaf-resize-handle,
.workspace-split.mod-horizontal > * > .workspace-leaf-resize-handle {
	background-color: var(--background-modifier-border);
}

/* ============================================ */
/* SIDEBAR */
/* ============================================ */

.workspace-ribbon {
	background-color: var(--background-secondary);
	border-right: 1px solid var(--background-modifier-border);
}

.workspace-ribbon.mod-left.is-collapsed {
	border-right: none;
}

.workspace-ribbon.mod-right.is-collapsed {
	border-left: none;
}

.side-dock-ribbon-action,
.side-dock-ribbon-tab {
	color: var(--text-muted);
	transition: all 0.2s ease;
	border-radius: var(--radius-s);
	margin: 4px;
}

.side-dock-ribbon-action:hover,
.side-dock-ribbon-tab:hover {
	color: var(--text-normal);
	background-color: var(--interactive-hover);
}

.side-dock-ribbon-tab.is-active {
	color: var(--color-accent);
	background-color: var(--interactive-normal);
}

/* ============================================ */
/* FILE EXPLORER */
/* ============================================ */

.nav-folder-title,
.nav-file-title {
	padding: 4px 8px;
	margin: 2px 8px;
	border-radius: var(--radius-s);
	transition: all 0.2s ease;
}

.nav-folder-title:hover,
.nav-file-title:hover {
	background-color: var(--interactive-hover);
}

.nav-file-title.is-active {
	background-color: var(--interactive-normal);
	color: var(--text-normal);
	border-left: 3px solid var(--color-accent);
	padding-left: 5px;
}

.nav-folder-collapse-indicator {
	color: var(--text-muted);
}

/* ============================================ */
/* EDITOR */
/* ============================================ */

.markdown-source-view.mod-cm6 .cm-editor {
	background-color: var(--background-primary);
}

.markdown-preview-view {
	padding: 32px 48px;
}

.markdown-source-view.mod-cm6 .cm-scroller {
	padding: 32px 48px;
}

/* Clean selection */
.cm-s-obsidian span.cm-formatting-link,
.cm-s-obsidian span.cm-formatting-link-string,
.cm-s-obsidian span.cm-url {
	color: var(--color-accent-1);
}

/* ============================================ */
/* BUTTONS */
/* ============================================ */

button,
.clickable-icon {
	border-radius: var(--button-radius);
	transition: all 0.2s ease;
}

button {
	padding: 8px 16px;
	font-weight: 500;
	cursor: pointer;
	border: none;
	background-color: var(--interactive-normal);
	color: var(--text-normal);
}

button:hover {
	background-color: var(--interactive-hover);
	transform: translateY(-1px);
	box-shadow: var(--shadow-s);
}

button.mod-cta {
	background-color: var(--color-accent);
	color: var(--text-on-accent);
	font-weight: 600;
}

button.mod-cta:hover {
	background-color: var(--text-accent-hover);
	box-shadow: var(--shadow-m);
}

button.mod-warning {
	background-color: var(--color-red);
	color: var(--text-on-accent);
}

button.mod-warning:hover {
	opacity: 0.9;
}

/* ============================================ */
/* INPUTS & FORMS */
/* ============================================ */

input[type="text"],
input[type="search"],
input[type="email"],
input[type="password"],
input[type="number"],
textarea,
.dropdown {
	background-color: var(--background-modifier-form-field);
	border: 1px solid var(--background-modifier-border);
	border-radius: var(--input-radius);
	padding: 8px 12px;
	color: var(--text-normal);
	transition: all 0.2s ease;
}

input[type="text"]:focus,
input[type="search"]:focus,
input[type="email"]:focus,
input[type="password"]:focus,
input[type="number"]:focus,
textarea:focus {
	border-color: var(--color-accent-1);
	box-shadow: 0 0 0 2px rgba(107, 165, 216, 0.2);
	outline: none;
}

/* Search input */
.search-input-container input {
	background-color: var(--background-modifier-form-field);
	border-radius: var(--input-radius);
	padding: 10px 16px 10px 40px;
	border: 1px solid var(--background-modifier-border);
}

.search-input-container input:focus {
	border-color: var(--color-accent-1);
	box-shadow: 0 0 0 2px rgba(107, 165, 216, 0.2);
}

/* ============================================ */
/* CHECKBOXES & TOGGLES */
/* ============================================ */

input[type="checkbox"] {
	border-radius: var(--checkbox-radius);
	border: 2px solid var(--background-modifier-border);
	transition: all 0.2s ease;
}

input[type="checkbox"]:checked {
	background-color: var(--color-accent);
	border-color: var(--color-accent);
}

.checkbox-container {
	border-radius: var(--checkbox-radius);
}

/* Toggle switches */
.checkbox-container.is-enabled {
	background-color: var(--color-accent);
}

/* ============================================ */
/* MODALS & POPOVERS */
/* ============================================ */

.modal {
	border-radius: var(--radius-l);
	box-shadow: var(--shadow-l);
	border: 1px solid var(--background-modifier-border);
	background-color: var(--background-primary);
}

.modal-container {
	background-color: var(--background-modifier-cover);
	backdrop-filter: blur(4px);
}

.modal-header {
	border-bottom: 1px solid var(--background-modifier-border);
	padding: 24px;
}

.modal-title {
	font-size: var(--font-ui-large);
	font-weight: 600;
	color: var(--text-normal);
}

.modal-content {
	padding: 24px;
}

.modal-button-container {
	padding: 16px 24px;
	border-top: 1px solid var(--background-modifier-border);
	gap: 12px;
}

/* Suggestions/Dropdown */
.suggestion-container {
	border-radius: var(--radius-m);
	box-shadow: var(--shadow-l);
	border: 1px solid var(--background-modifier-border);
	background-color: var(--background-primary);
}

.suggestion-item {
	border-radius: var(--radius-s);
	padding: 8px 12px;
	margin: 4px 8px;
	transition: all 0.2s ease;
}

.suggestion-item.is-selected {
	background-color: var(--interactive-normal);
	color: var(--text-normal);
	border-left: 3px solid var(--color-accent);
	padding-left: 9px;
}

/* ============================================ */
/* MENUS */
/* ============================================ */

.menu {
	padding: 8px;
	background-color: var(--background-primary);
	border: 1px solid var(--background-modifier-border);
	border-radius: var(--radius-m);
	box-shadow: var(--shadow-m);
}

.menu-item {
	padding: 8px 16px;
	border-radius: var(--radius-s);
	transition: all 0.2s ease;
	color: var(--text-normal);
}

.menu-item:hover {
	background-color: var(--interactive-hover);
}

.menu-item.is-selected {
	background-color: var(--interactive-normal);
	color: var(--color-accent);
}

.menu-separator {
	margin: 8px 0;
	background-color: var(--background-modifier-border);
}

/* ============================================ */
/* TAGS */
/* ============================================ */

.tag {
	background-color: var(--interactive-normal);
	color: var(--text-muted);
	padding: 4px 10px;
	border-radius: 12px;
	font-size: var(--font-smaller);
	font-weight: 500;
	transition: all 0.2s ease;
}

.tag:hover {
	background-color: var(--interactive-hover);
	color: var(--text-normal);
}

/* Capacities-style colored tags */
a.tag[href="#green"],
.cm-hashtag-end[data-tag="green"] {
	background-color: rgba(76, 175, 141, 0.2);
	color: var(--color-green);
}

a.tag[href="#blue"],
.cm-hashtag-end[data-tag="blue"] {
	background-color: rgba(107, 165, 216, 0.2);
	color: var(--color-blue);
}

a.tag[href="#purple"],
.cm-hashtag-end[data-tag="purple"] {
	background-color: rgba(139, 127, 217, 0.2);
	color: var(--color-purple);
}

a.tag[href="#red"],
.cm-hashtag-end[data-tag="red"] {
	background-color: rgba(232, 92, 92, 0.2);
	color: var(--color-red);
}

a.tag[href="#orange"],
.cm-hashtag-end[data-tag="orange"] {
	background-color: rgba(245, 158, 66, 0.2);
	color: var(--color-orange);
}

a.tag[href="#yellow"],
.cm-hashtag-end[data-tag="yellow"] {
	background-color: rgba(232, 192, 87, 0.2);
	color: var(--color-yellow);
}

/* ============================================ */
/* LINKS */
/* ============================================ */

a,
.internal-link {
	color: var(--color-accent-1);
	text-decoration: none;
	transition: all 0.2s ease;
}

a:hover,
.internal-link:hover {
	color: var(--interactive-accent-hover);
	text-decoration: underline;
}

.external-link {
	color: var(--color-accent-1);
}

.external-link:hover {
	color: var(--interactive-accent-hover);
}

/* ============================================ */
/* SCROLLBARS */
/* ============================================ */

::-webkit-scrollbar {
	width: 10px;
	height: 10px;
}

::-webkit-scrollbar-track {
	background-color: transparent;
}

::-webkit-scrollbar-thumb {
	background-color: var(--background-modifier-border);
	border-radius: 10px;
	border: 2px solid transparent;
	background-clip: padding-box;
}

::-webkit-scrollbar-thumb:hover {
	background-color: var(--text-faint);
}

/* ============================================ */
/* STATUS BAR */
/* ============================================ */

.status-bar {
	background-color: var(--background-secondary);
	border-top: 1px solid var(--background-modifier-border);
	padding: 4px 12px;
	font-size: var(--font-smaller);
}

.status-bar-item {
	color: var(--text-muted);
	transition: color 0.2s ease;
}

.status-bar-item:hover {
	color: var(--text-normal);
}

/* ============================================ */
/* CARDS & CONTAINERS */
/* ============================================ */

.workspace-leaf-content,
.view-content {
	background-color: var(--background-primary);
}

/* Search results cards */
.search-result-file-title {
	color: var(--text-normal);
	font-weight: 600;
	padding: 8px 12px;
	border-radius: var(--radius-s);
	background-color: var(--interactive-normal);
	margin-bottom: 4px;
}

.search-result-file-match {
	padding: 8px 16px;
	border-left: 3px solid var(--color-accent-1);
	margin-left: 12px;
	border-radius: 0 var(--radius-s) var(--radius-s) 0;
	background-color: var(--background-secondary-alt);
	margin-bottom: 4px;
}

/* ============================================ */
/* CALLOUTS */
/* ============================================ */

.callout {
	border-radius: var(--radius-m);
	padding: 16px;
	margin: 16px 0;
	border-left: 4px solid var(--color-accent);
	background-color: var(--background-secondary);
}

.callout-title {
	font-weight: 600;
	color: var(--text-normal);
	margin-bottom: 8px;
}

/* ============================================ */
/* CODE BLOCKS */
/* ============================================ */

code {
	background-color: var(--background-secondary);
	padding: 2px 6px;
	border-radius: 4px;
	font-size: 0.9em;
	color: var(--color-purple);
}

pre code {
	display: block;
	padding: 16px;
	border-radius: var(--radius-m);
	background-color: var(--background-secondary);
	overflow-x: auto;
	color: var(--text-normal);
}

/* ============================================ */
/* TABLES */
/* ============================================ */

table {
	border-collapse: separate;
	border-spacing: 0;
	border-radius: var(--radius-m);
	overflow: hidden;
	margin: 16px 0;
}

th {
	background-color: var(--background-secondary);
	color: var(--text-normal);
	font-weight: 600;
	padding: 12px 16px;
	text-align: left;
	border-bottom: 2px solid var(--background-modifier-border);
}

td {
	padding: 10px 16px;
	border-bottom: 1px solid var(--background-modifier-border);
}

tr:hover {
	background-color: var(--interactive-hover);
}

/* ============================================ */
/* GRAPHS */
/* ============================================ */

.graph-view.color-fill-tag {
	color: var(--color-purple);
}

.graph-view.color-fill-attachment {
	color: var(--color-blue);
}

.graph-view.color-fill-unresolved {
	color: var(--color-red);
}

/* ============================================ */
/* CUSTOM ACCENT COLORS */
/* ============================================ */

.mod-accent {
	color: var(--color-accent) !important;
}

/* Capacities-inspired highlights */
mark,
.cm-highlight {
	background-color: rgba(185, 125, 62, 0.3);
	color: inherit;
	padding: 2px 4px;
	border-radius: 3px;
}

/* ============================================ */
/* MOBILE OPTIMIZATIONS */
/* ============================================ */

@media (max-width: 768px) {
	.markdown-preview-view {
		padding: 16px 24px;
	}

	.markdown-source-view.mod-cm6 .cm-scroller {
		padding: 16px 24px;
	}
}

/* ============================================ */
/* ANIMATIONS & TRANSITIONS */
/* ============================================ */

* {
	transition-timing-function: cubic-bezier(0.4, 0.0, 0.2, 1);
}

/* Smooth fade-in for modals */
.modal-container {
	animation: fadeIn 0.2s ease;
}

@keyframes fadeIn {
	from {
		opacity: 0;
	}
	to {
		opacity: 1;
	}
}

/* ============================================ */
/* FINISHING TOUCHES */
/* ============================================ */

/* Remove stroke modifications for smooth, rounded icons */
svg * {
	stroke-linecap: round;
	stroke-linejoin: round;
}

/* Smooth focus outlines */
*:focus-visible {
	outline: 2px solid var(--color-accent-1);
	outline-offset: 2px;
}

/* Clean file icons */
.nav-file-icon,
.nav-folder-icon {
	color: var(--text-muted);
	opacity: 0.7;
}
